# 플러터 개요
- 플러터는 모바일 앱을 개발하기 위해 사용
- 플러터는 [크로스플랫폼](../etc/크로스플랫폼.md)을 지원한다.
	- 안드로이드, iOS, 윈도우, macOS, 리눅스, 웹, 임베디드 등에서 같은 코드로 동작하는 앱 만들기 가능.
	- [네이티브](../etc/네이티브.md) 앱 개발의 한계를 넘을 수 있다.
## 누가 만들었는가?
* 구글이 2017년에 만들었다.
	* 푸크시아 라는 구글 운영체제 에서 시작해서 [크로스플랫폼](../etc/크로스플랫폼.md)이 되어버림.


## 특징
* [크로스플랫폼](../etc/크로스플랫폼.md) 이다.
* [다트](../etc/다트.md)로 개발한다.
* 뛰어난 성능과 애니메이션 기법을 제공한다.
	* 플러터는 화면을 출력할 때 [스키아](../etc/스키아.md)라는 엔진을 사용한다.
	* 렌더링 속도 빠름!
* 모든 플랫폼에 똑같은 화면을 제공한다.
* [네이티브](../etc/네이티브.md) 와의 최소 연동
	* 네이티브 변경사항이 개발자에게 영향을 미치지 않게 하기 위해.

# 플러터 아키텍처

## 아키텍처 레이어
![Pasted image 20240222221613](../etc/attr/Pasted%20image%2020240222221613.png)

* 사용 언어 : [다트](../etc/다트.md)
* 엔진 : C/C++
* 그래픽 엔진 : [스키아](../etc/스키아.md)
* 플랫폼 변환 : [임베더](../etc/임베더.md)
# 설치
## 윈도우
1. [SDK](../etc/SDK.md) 설치
	* flutter.dev 에서 설치 가능
		*  책과 버전 차이가 있음
		*  책은 3.10, 현재 3.19
	*  절대~~~ `C:\Program Files\` 혹은 특정 문자를 포함하는 경로에 설치하지마!
2. SDK 경로 설정
	* 환경 변수에 SDK의 bin 디렉토리를 추가해주어야한다~
	* 계정 Path 에다가 쌈뽕하게 추가
3.  [안드로이드 스튜디오](../etc/안드로이드%20스튜디오.md) 설치 
	* https://developer.android.com/studio?hl=ko 에서 다운로드 진행
4.  플러터 플러그인 설치
	* 다트 플러그인 포함!

# 시작
## 프로젝트 만들기
* 안드로이드 스튜디오 시작화면에서 Projects > New Flutter Project 클릭
* SDK 경로 지정
	* 처음에 설치한 위치로!
* 프로젝트 입력 정보
	* Prj. name : 프로젝트 이름
		* 소문자와 밑줄만 입력하는 것을 권장
	* Prj. location : 프로젝트 저장 경로
	* Description : 프로젝트 설명
	* Prj. Type: 프로젝트의 유형. Application, Plugin, Package, Module 중 하나 선택
	* Organization : 개발사를 고유하게 식별할 수 있는 ID
		* 일반적으로 도메인 역순을 나열한다.
	* Android language : 안드로이드 네이티브 코드의 기본 언어 선택
	* iOS language : iOS 네이티브 코드의 기본 언어를 선택
	* Platforms : 앱이 작동할 플랫폼
		* 책에서는 모바일만 개발하므로 Web은 제외.
* 안드로이드 가상기기 AVD 생성
	* SDK Manager 로 드라이버랑 가속기 다운
	* 오른쪽 탭에서 Device Manager 켠 후, Create device(+버튼) 하기
		* 책에서는 Pixel2 선택
	* [시스템 이미지](../etc/시스템%20이미지.md) 선택하기
		* ~~책에서 티라미수로 선택했기 때문에 일단 나도 티라미수로 ㅎㅎ~~
		* 하려다가 UpsideDownCake로 선택.
		* ![](../etc/attr/Pasted%20image%2020240321211052.png)
		* 그리고 나머지는 기본값으로 처리.
	* ![](../etc/attr/Pasted%20image%2020240321211439.png)
		* AMD CPU에서 에뮬레이터 설치 오류 해결하기
			* https://jhleed.tistory.com/184 참고
			* 요약하면 Hyper-V 끄고, Bios에서 SVM을 활성화 시키면 된다.
	* ![](../etc/attr/Pasted%20image%2020240321212842.png) 성공!
* 플러터 앱 실행
	* 파일 경로에 한글 있으면 안된다.
		* ~~개발자에게 한글은 쓰레기다..~~
* 핫 리로드 테스트
	* main 코드 수정하면 바로바로 반영되는 기능
# 프로젝트 분석 및 패키지
## 폴더 구성
* android & ios: 안드 앱구성 &  iOS 앱구성
	* 플랫폼 채널 이용 혹은 네이티브 기능 제공 패키지를 이용할때 직접 수정
* lib : 다트파일
	* 파일 추가해가면서 개발
* test :  테스트 다트파일
	* 테스트 코드용 (빌드할 때 제외)
* ![](../etc/attr/Pasted%20image%2020240401203624.png)

## 파일구성
* main.dart : 메인 다트
	* 굳이 파일명 main 아니어도 main 함수 가지고 있으면 진입점.
* pubspec.yaml : 메인 환경파일
	* 빌드와 관련된 각정 설정 포함.
	* 분석 및 수정 빈도 높음!!
	* 패키지 및 리소스 추가할 때 여기에 등록해야한다.

### main.dart 구성
* import : 걍 흔한 임포트
* main 함수 : 걍 흔한 메인함수
* 위젯 클래스
	* [StatelessWidget](../etc/StatelessWidget.md) 혹은 [StateFullWidget](../etc/StateFullWidget.md) 중 하나를 상속받아서 작성
	* `build()` 함수에 화면을 어떻게 구성할지 명시

## 외부 패키지
### pub.dev
* 플러터 혹은 다트에서 기본 제공하지 않는 패키지 받을 수 있음
* 패키지 정보
	* LINKS, PUB POINTS, POPULARITY : 패키지 검증 정도 알 수 있음
	* Null safety : [널 안정성](../etc/널%20안정성.md) 적용되었음
		* 표시 안되어있는 패키지는 피해라.
	* 패키지 지원 플랫폼 확인 가능

### 외부 패키지 등록방법
> pubspec.yaml 에 등록필수!
1. 메인 환경 파일에 등록하여 내려받기 가능
	* `pubspec.yaml`에다가 패키지 이름 버전 명시하고 저장.
		* dependencies :  진짜 사용할 패키지 명시
		* dev_dependencies :  개발용 패키지 명시 (빌드시 포함 x)
	* 버전에 `^` 표시는 지정된 버전과 호환되는 모든 범위 버전 의미
		* ex) `english_words : ^ 4.0.0` -> 4.0.0 이상의 버전
	* `Pub Get` 눌러서 다운로드
		* upgrade, outdated, Flutter doctor 등 패키지와 관련된 다양한 기능 존재.
2. 터미널 명렁어로 가능
	* 아래 탭 중 `Terminal` 클릭.
	* `> flutter pub add english_words` 입력
* 위 두 가지 방법 중 택 일, import 해서 사용하면 된다.